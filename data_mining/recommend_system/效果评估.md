### 推荐系统实验方法

1. 离线实验：通过日志获得训练集、测试集，并在测试集上测试指标
2. 用户调查
3. 在线实验

一般来说，一个新的推荐算法上线，需要完成上面三个实验
- 离线验证多项指标达标
- 用户调查确定满意度很高
- AB测试在我们关心的指标上优于现有算法

### 评测指标：
1. 用户满意度：主观感受和一些可量化指标，如点击率、转化率、留存时间
2. 预测准确度
   1. 评分预测：
      1. RMSE
      2. MAE

   2. TopN推荐
      1. Recall
      2. Precision
      3. F1-Score
3. 覆盖率
   1. 考察被推荐商品占总商品占比
   2. 信息熵

        E(x) = -$\displaystyle \sum^{n}_{i = 1}P(i)logP(i)$

        p(i)是物品i的流行度除以所有物品流行度之和


   3. 基尼系数

        G= $\frac{1}{n-1}\displaystyle \sum^{n2}_{j = 1}(2j-n-1)P(i_j)$  

        $i_j$是按照物品流行度p从小到大排列的物品列表中第j个物品

4. 多样性
   
   多样性描述了推荐列表中物品两两之间的不相似性，多样性和不相似性是对应的

   Diversity(R(u)) = 1 - $\frac{\displaystyle \sum_{i, j \in R(u), i\neq j}s(i, j)}{\frac{1}{2}|R(u)|(|R(u)| - 1)}$

   推荐系统的整体多样性：
   Diversity = $\frac{1}{|U|}\displaystyle \sum_{u \in U}Diversity(R(u))$
5. 新颖性
   
   最简单的方式就是就是利用推荐结果的平均流行度，因为越不热门越新颖，因此推荐列表流行度低于平均，则有较高的新颖度

6. 惊喜度
   一个用户喜欢周星驰电影，这时候推荐了一部他没看过的周星驰电影，只能说这部电影有新颖性，但没有惊喜度；
   但此时给他推荐张艺谋的红高粱，跟他兴趣完全没关系，看完觉得不错，就有惊喜度。

   基本意思就是，如果推荐的物品跟历史兴趣不相似性，却让用户觉得满意，就是惊喜度很高；而新颖度仅仅是取决于用户是否听过

7. 信任度

    提高推荐系统信任度：

    1. 增加透明度，主要是推荐解释
    2. 考虑社交网络

8. 实时性

    实时性包括两个方面：
    1. 实时的更新推荐列表来满足用户新的行为变化
    2. 能够将新加入系统的物品推荐给用户，也就是物品冷启动的处理能力

9. 健壮性

    提升健壮性，健壮性评测主要是利用模拟攻击
    1. 给定一个数据集和一个算法，可以用这个数据集中的用户生成推荐列表
    2. 用常用的攻击方法向数据集中注入噪声
    3. 用算法在注入噪声的数据集上再次生成用户推荐列表
    4. 对比攻击前后推荐列表相似度

    除了提升健壮性，还可以：
    1. 提高行为代价
    2. 使用数据前进行攻击检测，清理掉攻击数据

10. 商业目标